<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout Page</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <!-- Cập nhật liên kết SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script>
        (function(){
            emailjs.init("OSl7iLXHubw6z6eFz"); 
        })();
    </script>
</head>
<body>
    <header>
        <div class="top-bar">
            <p>Summer Sale For All Swim Suits And Free Express Delivery - OFF 50%! <a href="#">ShopNow</a></p>
            <div class="language-select">
                <span>English</span>
                <img src="vector.png" alt="dropdown icon">
            </div>
        </div>
        <div class="header-content">
            <h1>Exclusive</h1>
            <nav>
                <ul>
                    <li><a href="#">Home</a></li>
                    <li><a href="#">Contact</a></li>
                    <li><a href="#">About</a></li>
                    <li><a href="#">Sign Up</a></li>
                </ul>
            </nav>
            <div class="header-icons">
                <div class="search-bar">
                    <input type="text" placeholder="What are you looking for?">
                    <img src="search-icon.png" alt="Search">
                </div>
                <a href="#"><img src="heart-icon.png" alt="Wishlist"></a>
                <a href="#"><img src="cart-icon.png" alt="Cart"></a>
                <a href="#"><img src="user-icon.png" alt="User"></a>
            </div>
        </div>
    </header>

    <div class="container">
        <nav class="breadcrumb">
            <a href="#">Account</a> / 
            <a href="#">My Account</a> / 
            <a href="#">Product</a> / 
            <a href="#">View Cart</a> / 
            <span>CheckOut</span>
        </nav>
        <div class="checkout">
            <div class="billing-details">
                <h2>Billing Details</h2>
                <form id="checkout-form">
                    <label>First Name*</label>
                    <input type="text" id="first-name" required>
                    <label>Company Name</label>
                    <input type="text" id="company-name">
                    <label>Street Address*</label>
                    <input type="text" id="street-address" required>
                    <label>Apartment, floor, etc. (optional)</label>
                    <input type="text" id="apartment">
                    <label>Town/City*</label>
                    <input type="text" id="town-city" required>
                    <label>Phone Number*</label>
                    <input type="text" id="phone" required>
                    <label>Email Address*</label>
                    <input type="email" id="email" required>
                    <label class="save-info">
                        <input type="checkbox" id="save-info">
                        Save this information for faster check-out next time
                    </label>
                </form>
            </div>
            <div class="order-summary">
                <div class="products">
                    <div class="product-item">
                        <img src="path_to_image_of_monitor.png" alt="LCD Monitor">
                        <span>LCD Monitor</span>
                        <span class="price">$650</span>
                    </div>
                    <div class="product-item">
                        <img src="path_to_image_of_gamepad.png" alt="H1 Gamepad">
                        <span>H1 Gamepad</span>
                        <span class="price">$1100</span>
                    </div>
                </div>
                <div class="summary">
                    <div class="line-item">
                        <span>Subtotal:</span>
                        <span>$1750</span>
                    </div>
                    <div class="line-item">
                        <span>Shipping:</span>
                        <span>Free</span>
                    </div>
                    <div class="line-item total">
                        <span>Total:</span>
                        <span>$1750</span>
                    </div>
                </div>
                <div class="payment-methods">
                    <label>
                        <input type="radio" name="payment-method" value="bank">
                        Bank
                    </label>
                    <img src="path_to_bank_icons.png" alt="Bank Icons">
                    <label>
                        <input type="radio" name="payment-method" value="cash">
                        Cash on delivery
                    </label>
                </div>
                <div class="coupon">
                    <input type="text" placeholder="Coupon Code">
                    <button>Apply Coupon</button>
                </div>
                <!-- Nút này đã được thêm vào để gọi hàm validateAndSend() -->
                <button class="place-order" onclick="validateAndSend()">Place Order</button>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-section subscribe">
                <h3>Exclusive</h3>
                <p>Subscribe</p>
                <p>Get 10% off your first order</p>
                <div class="email-input-wrapper">
                    <input type="email" placeholder="Enter your email">
                    <img src="path-to-arrow-icon.png" alt="Arrow Icon" class="arrow-icon">
                </div>
            </div>
            <div class="footer-section">
                <h3>Support</h3>
                <p>111 Bijoy sarani, Dhaka, DH 1515, Bangladesh.</p>
                <p>Email: exclusive@gmail.com</p>
                <p>Phone: +88015-88888-9999</p>
            </div>
            <div class="footer-section">
                <h3>Account</h3>
                <ul>
                    <li><a href="#">My Account</a></li>
                    <li><a href="#">Login / Register</a></li>
                    <li><a href="#">Cart</a></li>
                    <li><a href="#">Wishlist</a></li>
                    <li><a href="#">Shop</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Quick Link</h3>
                <ul>
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Terms Of Use</a></li>
                    <li><a href="#">FAQ</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Download App</h3>
                <p>Save $3 with App New User Only</p>
                <div class="app-links">
                    <img src="path-to-qr-code.png" alt="QR Code" class="qr-code">
                    <a href="#"><img src="path-to-google-play.png" alt="Google Play"></a>
                    <a href="#"><img src="path-to-app-store.png" alt="App Store"></a>
                </div>
                <div class="social-icons">
                    <a href="#"><img src="path-to-facebook-icon.png" alt="Facebook"></a>
                    <a href="#"><img src="path-to-twitter-icon.png" alt="Twitter"></a>
                    <a href="#"><img src="path-to-instagram-icon.png" alt="Instagram"></a>
                    <a href="#"><img src="path-to-linkedin-icon.png" alt="LinkedIn"></a>
                </div>
            </div>            
        </div>
        <div class="footer-bottom">
            <p>&copy; Copyright Rimel 2022. All rights reserved.</p>
        </div>
    </footer>

    <script>
        function validateAndSend() {
            const firstName = document.getElementById('first-name').value.trim();
            const companyName = document.getElementById('company-name').value.trim();
            const streetAddress = document.getElementById('street-address').value.trim();
            const apartment = document.getElementById('apartment').value.trim();
            const townCity = document.getElementById('town-city').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const email = document.getElementById('email').value.trim();
            
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            const phoneRegex = /^[0-9]{10}$/; 
    
            if (firstName === "") {
                alert("Vui lòng nhập tên của bạn.");
                return;
            }
    
            if (streetAddress === "") {
                alert("Vui lòng nhập địa chỉ đường phố của bạn.");
                return;
            }
    
            if (townCity === "") {
                alert("Vui lòng nhập thành phố/tỉnh của bạn.");
                return;
            }
    
            if (!emailRegex.test(email) || !email.endsWith('@gmail.com')) {
                alert("Vui lòng nhập địa chỉ Gmail hợp lệ.");
                return;
            }
    
            if (!phoneRegex.test(phone)) {
                alert("Vui lòng nhập số điện thoại hợp lệ với đúng 10 chữ số.");
                return;
            }
    
            // Chuẩn bị dữ liệu để gửi
            const data = {
                first_name: firstName,
                company_name: companyName,
                street_address: streetAddress,
                apartment: apartment,
                town_city: townCity,
                phone: phone,
                email: email
            };
    
            // Gửi dữ liệu đến EmailJS
            emailjs.send('service_tuan', 'template_tuan', data)
                .then(function(response) {
                    alert('Đơn hàng của bạn đã được đặt thành công!');
                }, function(error) {
                    console.error('Lỗi khi đặt hàng:', error);
                    alert('Lỗi khi gửi đơn hàng. Vui lòng kiểm tra thông tin và thử lại.');
                });
        }
    </script>
    
    
</body>
</html>